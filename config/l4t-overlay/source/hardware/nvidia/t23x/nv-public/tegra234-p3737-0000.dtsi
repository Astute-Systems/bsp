// SPDX-License-Identifier: GPL-2.0

/ {
	compatible = "nvidia,p3737-0000";

	bus@0 {
		i2c@c240000 {
			status = "okay";
			gpio_i2c1: gpio@26 {
				compatible = "nxp,pca9534";
				reg = <0x26>;
				vcc-supply = <&vdd_3v3_ao>;
				gpio-controller;
				#gpio-cells = <2>;
				gpio-line-names = "485term_4", "485term_3", "485term_2", "485term_1", "can0_term", "can0_stdby", "can1_term", "can1_stdby";
			};
			gpio_i2c2: gpio@27 {
				compatible = "nxp,pca9534";
				reg = <0x27>;
				vcc-supply = <&vdd_3v3_ao>;
				gpio-controller;
				#gpio-cells = <2>;
				gpio-line-names = "hduplex_4", "485en_4", "hduplex_3", "485en_3", "hduplex_2", "485en_2", "hduplex_1", "485en_1";
			};
		};
		
		ethernet@2310000 {
					status = "okay";
					nvidia,mac-addr-idx = <0>;
					nvidia,max-platform-mtu = <8000>;
					nvidia,pause_frames = <0>;
					local-mac-adress = [1a 2b 3c 4d 5e 6f];
					//nvidia,phy-reset-gpio = <&gpio TEGRA234_MAIN_GPIO(G, 5) GPIO_ACTIVE_LOW>;
					phy-handle = <&gbe0_phy>;
					phy-mode = "rgmii-id";

					mdio {
						compatible = "nvidia,eqos-mdio";
						#address-cells = <1>;
						#size-cells = <0>;

						gbe0_phy: phy@0 {
							reg = <0>;
							nvidia,phy-rst-pdelay-msec = <224>; /* msec */
							nvidia,phy-rst-duration-usec = <10000>; /* usec */
							interrupt-parent = <&gpio>;
							interrupts = <TEGRA234_MAIN_GPIO(G, 4) IRQ_TYPE_LEVEL_LOW>;
						};
					};
		};

		pwm@3280000 {
			status = "okay";
		};

		pwm@32c0000 {
			status = "okay";
		};

		pwm@32f0000 {
			status = "okay";
		};
	};

	vdd_1v8_sys: regulator-vdd-1v8-sys {
		compatible = "regulator-fixed";
		regulator-name = "VDD_1V8_SYS";
		regulator-min-microvolt = <1800000>;
		regulator-max-microvolt = <1800000>;
		regulator-always-on;
	};
	
	vbus_usb2_2: regulator_vbus_usb2_2 {
			compatible = "regulator-fixed";
			regulator-name = "vbus_usb2_2";
			regulator-min-microvolt = <5000000>;
			regulator-max-microvolt = <5000000>;
			gpio = <&gpio TEGRA234_MAIN_GPIO(Z, 2) GPIO_ACTIVE_HIGH>;
			gpio-open-drain;
			enable-active-high;
	};
};
