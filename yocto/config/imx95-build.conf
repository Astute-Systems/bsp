# iMX95 Yocto Build Configuration
# Configuration for building Ubuntu-based image for CompuLab UCM-iMX95

# Board and vendor identification
BOARD='ucm-imx95'
VENDOR='compulab'

# Define the project root directory
if [ -n "${BASH_SOURCE[0]}" ]; then
    PROJECT_ROOT=$(cd "$(dirname "${BASH_SOURCE[0]}")/.." && pwd)
else
    # Fallback if BASH_SOURCE is not available
    PROJECT_ROOT=$(cd "$(dirname "$0")/.." 2>/dev/null || pwd)
fi

# Build directory configuration
BUILD_ROOT=${PROJECT_ROOT}/build
YOCTO_DIR=${BUILD_ROOT}/yocto
SOURCES_DIR=${YOCTO_DIR}/sources
BUILD_DIR=${YOCTO_DIR}/build-${BOARD}
DEPLOY_DIR=${BUILD_DIR}/tmp/deploy/images/${BOARD}

# Yocto/NXP configuration
NXP_MANIFEST_URL="https://github.com/nxp-imx/imx-manifest.git"
NXP_MANIFEST_BRANCH="imx-linux-scarthgap"
NXP_MANIFEST_FILE="imx-6.6.36-2.1.0.xml"

# CompuLab BSP configuration
COMPULAB_META_URL="https://github.com/compulab-yokneam/meta-bsp-imx95.git"
COMPULAB_META_BRANCH="scarthgap-6.6.36-EVAL-UCM-iMX95-1.0"

# CompuLab layer Git revisions
# Update these when upgrading to newer BSP versions
META_COMPULAB_REV="a9ef2a47c3ca56f985174b6781882db457bd389f"
META_COMPULAB_BSP_REV="3a9724ca2f7d3a55cef3a648b814c5b26bd18c86"
META_COMPULAB_UEFI_REV="d9646b4b9ae785f3c36e90a375bc1059b8baf580"
META_BSP_IMX95_REV="${COMPULAB_META_BRANCH}"

# Machine and distro configuration
MACHINE="ucm-imx95"
DISTRO="fsl-imx-xwayland"

# Image configuration
IMAGE_NAME="imx-image-full"
IMAGE_BASENAME="${IMAGE_NAME}-${MACHINE}"

# Additional packages to include
EXTRA_PACKAGES="git cmake qtbase-dev qtbase-tools apt"
